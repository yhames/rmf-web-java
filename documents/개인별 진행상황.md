# 개인별 진행상황

## 박정우

- Python API 모듈 분석서 작성
    - Python API 모듈 구조도 작성
    - React, ROS 연계 상태 분석
    - Rest API: admin, roles, permissions
- F/E 영향도 분석서 작성
- F/E & B/E 연계 구조도 작성
- F/E 로그인/로그아웃 와이어프레임 작성
- 결함관리대장 템플릿 작성 및 관리
- Java API Server 환경 구성
    - Python API 서버와 MySQL DB 연동
- 엔티티 구현
    - ScheduledTask, BuildingMap, Door, Lift, Dispenser, Ingestor
- REST API 구현
    - building_map, doors
        - GET /buliding_map
        - GET /doors/{door_name}/state
        - GET /doors/{door_name}/health
    - scheduled_tasks
        - GET /scheduled_tasks
        - POST /scheduled_tasks
        - GET /scheduled_tasks/{task_id}
        - DELETE /scheduled_tasks/{task_id}
        - PUT /scheduled_tasks/{task_id}
        - POST /scheduled_tasks/{task_id}
- Spring Quartz 스케쥴러 환경 구성
    - 스케쥴러 초기화
    - 스케쥴러 등록 및 삭제
- Socket.io API 구현
    - SUB /building_map
    - SUB /doors/{door_name}/state
    - SUB /doors/{door_name}/health
- HealthWatchdog 구현
    - DoorStateEvent 발생시 watchdog을 통해 DoorHealthEvent 발행
- BookKeeper 구현
    - BuildingMap, DoorState, DoorHealth Event 발생시 및 DB 저장
- ROS moking 구현
    - RosMockController를 사용하여 BuildingMap, DoorState, DoorHealth Mocking 구현
        - GET /mock/image/{image_name} - resources 폴더의 이미지 파일 전송
        - POST /mock/dummy
            - building_map.json 파일을 읽어서 초기 맵 데이터 발행
            - DoorDummy 스케쥴러 등록
    - websocket_client.py에 POST /mock/dummy 요청 추가
    - Spring Quartz 스케쥴러를 활용하여 DoorStateEvent를 주기적으로 발행
- F/E 화면 구현
    - 로그인 화면
    - 사용자 정보 화면
    - 사용자 Role 정보 화면
    - 사용자 정보 수정 화면 - 비밀번호 변경
    - 사용자 정보 수정 화면 - 이메일 변경
    - 사용자 생성 화면
- F/E 기능 구현
    - 로그인, 로그아웃, 비밀번호 변경

## 정승철

- Python API 분석서 작성
    - Rest API: building_map, door, dispensor, ingestors, lifts
    - Socket.io API: 전체
- Java 전환 방향성 및 개발 범위 문서 작성
- Java API 모듈 구조도 작성
- DB 물리 설계서 작성
- DB 테이블 생성 스크립트 작성
- Java API Server 환경 구성
    - naver convention 기반 lint 구성
- 테스트 환경 구성
- Github Actions CI 구성
- Spring Cloud Gateway 환경 구성
- 엔티티 구현
    - Alert, Fleet
- REST API 구현
    - Alert
        - GET /alerts
        - GET /{alert_id}
        - POST /alerts
    - Fleet
        - GET /fleets
        - GET /fleets/{name}/state
        - GET /fleets/{name}/log
    - FavoriteTask
        - GET /favorite_task
        - POST /favorite_task
        - DELETE /favorite_task/{favoriteTaskId}
- Socket.io, RXJava 환경 구성
    - Socket.io
        - Netty 서버 구성
        - Subscribe, Unsubscribe Listen 이벤트 구현
    - RXJava
        - RXJava EventBus, EventConsumer 구성
- Socket.io API 구현
    - SUB alerts/{taskId}/state
    - SUB fleets/{fleetStateName}/state
    - SUB fleets/{fleetLogName}/log
- WebSocket 환경 구성 및 FleetAdapter 연동 데이터 수신 작업
    - FleetState
    - FleetLog
- DB PostgreSQL 전환 및 시퀀스 적용을 통한 Batch Insert 적용
- 로그인 / 로그아웃 기능 및 회원 관리 기능 구현
    - JWT와 스프링 시큐리티를 통한 인증/인가 기능
        - JWT
            - HttpOnly 쿠키의 Access, Refresh 토큰 도입
            - DB에 연계된 Refresh 토큰 관리 전략 구현
            - JWT 로그인 정보 추출 어노테이션 추가
        - Socket.io JWT 연동
            - 핸드셰이크 과정에서 전달된 JWT 쿠키로 인가 처리
            - 스케줄러를 통해 JWT 만료시간에 따른 소켓 연결 해제 기능 추가
            - 소켓 연결 해제에 따른 프론트엔드 Refresh 토큰 재발급, 재연결, 기존 Room 재구독 처리
        - 로그인 / 로그아웃
            - 로그인 (POST /login)
            - 로그아웃 (POST /logout)
            - 로그인 여부 확인 (GET /is_login)
- 추가 기능
    - 시큐리티 연계 테스트용 컨텍스트 프로파일 추가
    - POST /alert/{alert}에서 Task State 및 Task Log가 존재하지 않는 상황에서의 방어 로직 추가

## 김예건

- python API 모듈 분석서 작성.
    - REST-API : alert, beacon, fleets, task
- WBS 작성 및 관리
- 데이터 플로우 다이어그램 작성.
    - RMF-core, web server, Fleet Adapter 연계 구조 분석.
- 테스트 시나리오 문서 작성 및 관리.
- Java API 환경 구성
    - MySQL - Spring server DB 연동
- 엔티티 구현
    - beacons, task, favoriteTask, User 파트
- Client ↔ Server Rest API 구현
    - beacons
        - GET /beacons
        - POST /beacons
        - GET /beacons/{beaconId}
    - tasks
        - GET /tasks/{taskId}/reqeust
        - GET /tesks
        - GET /tasks/{taskId}/state
        - GET /tasks/{taskId}log
- Client ↔ Server Socket.io API 구현
    - beacons
        - SUB /beacons
    - tasks
        - SUB /tasks/{taskId}/state
        - SUB /tasks/{taskId}/log
- Fleet Adapter ↔ Server Websocket 데이터 수신 API 구현
    - task_state_update 데이터 수신 및 관련 정보 업데이트
    - task_log_update 데이터 수신 및 관련 정보 업데이트
- 관리자 회원 관리 기능 백엔드 구현
    - 회원 목록 조회 (GET /admin/users)
    - 회원 단건 조회 (GET /admin/users/{username})
    - 회원 추가 (POST /admin/users)
    - 회원 삭제 (DELETE /admin/users/{username})
- 마이페이지 기능 백엔드 구현
    - 내 정보 조회 (GET /user)
    - 비밀번호 변경 (GET /user/password)